<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Search Engine</title>
</head>
<body>
    <h1>Sports Search Engine</h1>
    <input type="text" id="searchBox" placeholder="Search for sports...">
    <button onclick="search()">Search</button>
    <div id="results"></div>

    <script>
        async function search() {
            const query = document.getElementById('searchBox').value;

            if (!query) {
                alert("Please enter a search term");
                return;
            }

            try {
                const response = await fetch(`http://127.0.0.1:5000/search?q=${encodeURIComponent(query)}`);
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }

                const results = await response.json();
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = ''; // Clear previous results

                if (results.length === 0) {
                    resultsDiv.innerHTML = '<p>No results found</p>';
                } else {
                    results.forEach(result => {
                        const div = document.createElement('div');
                        div.innerHTML = `
                            <h2>${result[0]}</h2> <!-- Title -->
                            <a href="${result[1]}" target="_blank">${result[1]}</a> <!-- Link -->
                            <p>${result[2]}</p> <!-- Description -->
                        `;
                        resultsDiv.appendChild(div);
                    });
                }
            } catch (error) {
                console.error("Error during search:", error);
                alert("An error occurred while fetching search results. Please check your backend server.");
            }
        }
    </script>
</body>
</html>
